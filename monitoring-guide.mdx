### Set up Voice Monitoring

Voice Call Monitoring allows you to evaluate the reliability of your AI voice agent(s). With a few easy steps, you can set up monitoring on Hamming to track your agent's performance. It also provides Hume scoring, offering key insights into caller sentiment.


<CardGroup cols={2}>
  <Card 
  title="Retell Agent Monitoring" 
 <svg width="768" height="768" viewBox="0 0 768 768" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="768" height="768" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M319.132 221.838C340.626 221.838 358.051 204.413 358.051 182.919C358.051 161.425 340.626 144 319.132 144C297.637 144 280.213 161.425 280.213 182.919C280.213 204.413 297.637 221.838 319.132 221.838ZM478.63 384C503.174 372.719 520.216 347.917 520.216 319.135C520.216 279.729 488.271 247.783 448.865 247.783C420.085 247.783 395.284 264.823 384.002 289.365C372.72 264.823 347.919 247.783 319.138 247.783C279.732 247.783 247.787 279.729 247.787 319.135C247.787 347.917 264.83 372.719 289.374 384C264.83 395.282 247.787 420.084 247.787 448.866C247.787 488.272 279.732 520.217 319.138 520.217C347.919 520.217 372.72 503.177 384.002 478.636C395.284 503.177 420.085 520.217 448.865 520.217C488.271 520.217 520.216 488.272 520.216 448.866C520.216 420.084 503.174 395.282 478.63 384ZM384.002 419.096C391.119 403.614 403.617 391.117 419.1 384C403.617 376.884 391.119 364.387 384.002 348.905C376.884 364.387 364.386 376.884 348.903 384C364.386 391.117 376.884 403.614 384.002 419.096ZM474.813 182.919C474.813 197.248 463.196 208.865 448.867 208.865C434.537 208.865 422.921 197.248 422.921 182.919C422.921 168.589 434.537 156.973 448.867 156.973C463.196 156.973 474.813 168.589 474.813 182.919ZM182.916 345.081C197.245 345.081 208.862 333.465 208.862 319.135C208.862 304.806 197.245 293.189 182.916 293.189C168.586 293.189 156.97 304.806 156.97 319.135C156.97 333.465 168.586 345.081 182.916 345.081ZM345.086 585.08C345.086 599.41 333.47 611.026 319.14 611.026C304.811 611.026 293.194 599.41 293.194 585.08C293.194 570.751 304.811 559.135 319.14 559.135C333.47 559.135 345.086 570.751 345.086 585.08ZM585.08 474.81C599.409 474.81 611.026 463.193 611.026 448.864C611.026 434.534 599.409 422.918 585.08 422.918C570.75 422.918 559.134 434.534 559.134 448.864C559.134 463.193 570.75 474.81 585.08 474.81ZM202.381 182.92C202.381 193.667 193.669 202.379 182.921 202.379C172.174 202.379 163.462 193.667 163.462 182.92C163.462 172.172 172.174 163.46 182.921 163.46C193.669 163.46 202.381 172.172 202.381 182.92ZM182.921 604.541C193.669 604.541 202.381 595.829 202.381 585.081C202.381 574.334 193.669 565.622 182.921 565.622C172.174 565.622 163.462 574.334 163.462 585.081C163.462 595.829 172.174 604.541 182.921 604.541ZM604.542 585.081C604.542 595.829 595.83 604.541 585.083 604.541C574.335 604.541 565.623 595.829 565.623 585.081C565.623 574.334 574.335 565.622 585.083 565.622C595.83 565.622 604.542 574.334 604.542 585.081ZM585.083 202.379C595.83 202.379 604.542 193.667 604.542 182.92C604.542 172.172 595.83 163.46 585.083 163.46C574.335 163.46 565.623 172.172 565.623 182.92C565.623 193.667 574.335 202.379 585.083 202.379ZM487.783 585.081C487.783 606.575 470.359 624 448.864 624C427.37 624 409.945 606.575 409.945 585.081C409.945 563.586 427.37 546.162 448.864 546.162C470.359 546.162 487.783 563.586 487.783 585.081ZM585.083 358.054C606.577 358.054 624.002 340.63 624.002 319.135C624.002 297.641 606.577 280.217 585.083 280.217C563.589 280.217 546.164 297.641 546.164 319.135C546.164 340.63 563.589 358.054 585.083 358.054ZM221.838 448.866C221.838 470.361 204.413 487.785 182.919 487.785C161.425 487.785 144 470.361 144 448.866C144 427.372 161.425 409.948 182.919 409.948C204.413 409.948 221.838 427.372 221.838 448.866Z" fill="black"/>
</svg>
  href="#retell-tutorial"
>
If you use Retell to run voice agents, follow this tutorial.
  </Card>

  <Card 
  title="VAPI Agent Monitoring" 
  icon="phone"
  href = "#vapi-tutorial"
>
If you use VAPI to run voice agents, follow this tutorial.
</Card>


</CardGroup>



## Retell Tutorial

<Note> 

Ensure that you have installed and authorized ngrok before continuing. To learn more visit https://ngrok.com.

</Note>

<Steps>


 <Step title="Start ngrok" >

  ```bash
ngrok http 3010
```
 
  </Step>

<Step title="Set up Retell AI Webhook">

After completing Step 1, a window will display a **Forwarding Link**. Copy the link and append **/retell-webhook** to the end. Your final link should look similar to this:

```
https://688ee840-00505-39395.ngrok-free.app/retell-webhook
```


<Accordion icon="terminal" title="Finding Your Forwarding Link">
<img src="./images/ngrok-setup-screen.png" alt="Dataset" style={{ width: "400", height: "auto",borderRadius: "10px" }} />
</Accordion>



Go to https://dashboard.retellai.com/agents and select your agent. Look for the **Webhook Settings** tab, and paste the link you created into the **Agent Level Webhook URL** field.


<img src="./images/retell-webhook.png" alt="Retell Webhook" style={{width: "400", height: "auto",borderRadius: "10px" }} />

  </Step>

<Step title="Create a Node.js server that handles the webhook request">

This is the content of the index.ts file:

```typescript
import dotenv from "dotenv";
import { envsafe, str } from "envsafe";
import express from "express";
import { CallProvider, Hamming } from "@hamming/hamming-sdk";


dotenv.config();


const app = express();
app.use(express.json());


export const env = envsafe({
 HAMMING_API_KEY: str(),
});


const hamming = new Hamming({
 apiKey: env.HAMMING_API_KEY,
});


hamming.monitoring.start();


app.post("/retell-webhook", (req, res) => {
 hamming.monitoring.callEvent(CallProvider.Retell, req.body);
 res.sendStatus(200);
});


app.listen(3010, () => {
 console.log("Server is running on port 3010");
});
```

  </Step>


<Step title="Set up your .env file" >


Set up a Hamming API Key by going to [hamming.ai/settings](https://app.hamming.ai/settings) and selecting Create a new secret key at the top. Then, add the API key to your .env file as shown in the code snippet below.

```
HAMMING_API_KEY=your_hamming_api_key
```

Next run the following command.

```bash
npm run dev
```

  </Step>

<Step title="Track Monitoring Page" >


Once both ngrok and your application are running, monitoring will log all inbound and outbound phone calls and generate Hume scores, providing valuable insights into the performance and sentiment of the calls.

<Accordion icon="phone" title="Monitoring Page">
<img src="./images/monitoring-screen.png" alt="Dataset" style={{ width: "400", height: "auto",borderRadius: "10px" }} />
</Accordion>

  </Step>

</Steps>

## VAPI Tutorial

<Note> 

Ensure that you have installed and authorized ngrok before continuing. To learn more visit https://ngrok.com.

</Note>

<Steps>



 <Step title="Start ngrok" >

  ```bash
ngrok http 3010
```
 
  </Step>

<Step title="Set up VAPI AI Webhook">

After completing step 2, a window will display a **Forwarding Link**. Copy the link and append **/vapi-webhook** to the end. Your final link should look similar to this:

```
https://688ee840-00505-39395.ngrok-free.app/vapi-webhook
```


<Accordion icon="terminal" title="Finding Your Forwarding Link">
<img src="./images/ngrok-setup-screen.png" alt="Dataset" style={{ width: "400", height: "auto",borderRadius: "10px" }} />
</Accordion>



Go to https://dashboard.vapi.ai/assistants and select your agent. Look for the **Advanced** in the dropdown, and paste the link you created into the **Server URL** field.

<img src="./images/vapi-server.png" alt="Vapi" style={{ width: "400", height: "auto",borderRadius: "10px" }} />

  </Step>

<Step title="Create a Node.js server that handles the webhook request">

This is the content of the index.ts file:

```typescript
import dotenv from "dotenv";
import { envsafe, str } from "envsafe";
import express from "express";
import { CallProvider, Hamming } from "@hamming/hamming-sdk";


dotenv.config();


const app = express();
app.use(express.json());


export const env = envsafe({
 HAMMING_API_KEY: str(),
});


const hamming = new Hamming({
 apiKey: env.HAMMING_API_KEY,
});


hamming.monitoring.start();


app.post("/vapi-webhook", (req, res) => {
 hamming.monitoring.callEvent(CallProvider.Vapi, req.body);
 res.sendStatus(200);
});


app.listen(3010, () => {
 console.log("Server is running on port 3010");
});
```

  </Step>


<Step title="Set up your .env file" >


Set up a Hamming API Key by going to [hamming.ai/settings](https://app.hamming.ai/settings) and selecting Create a new secret key at the top. Then, add the API key to your .env file as shown in the code snippet below.

```
HAMMING_API_KEY=your_hamming_api_key
```

Next run the following command.

```bash
npm run dev
```

  </Step>

<Step title="Track Monitoring Page" >


Once both ngrok and your application are running, monitoring will log all inbound and outbound phone calls and generate Hume scores, providing valuable insights into the performance and sentiment of the calls.

<Accordion icon="phone" title="Monitoring Page">
<img src="./images/monitoring-screen.png" alt="Dataset" style={{ width: "400", height: "auto",borderRadius: "10px" }} />
</Accordion>

  </Step>

</Steps>

