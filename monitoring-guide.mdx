### Set up Voice Monitoring

Voice Call Monitoring allows you to evaluate the reliability of your AI voice agent(s). With a few easy steps, you can set up monitoring on Hamming to track your agent's performance. It also provides Hume scoring, offering key insights into caller sentiment.

<Warning>

**Important**: We currently only support monitoring for Retell AI Agents.

</Warning>

### Components Needed Before Setup

<CardGroup>
  
  <Card 
  title="ngrok Setup" 
  icon="square-1">
Before getting started, ensure that you have installed ngrok and set up an account by visiting [ngrok.com/download](www.ngrok.com/download).
  </Card>

  <Card 
  title="Retell AI Agent" 
  icon="square-2">
To monitor your virtual voice agent, ensure that your Retell AI Voice Agent is correctly configured and ready to receive inbound calls.
  </Card>

  <Card 
  title="Hamming API Key" 
  icon="square-3">
  To run the script, you'll also need a Hamming API Key. To set up your Hamming API Key, navigate to [hamming.ai/settings](https://app.hamming.ai/settings) and **create a new secret key** at the top.
  </Card>

</CardGroup>



### Step-by-Step Tutorial

<Steps>

<Step title= "1. Install and Authenticate ngrok">

If you haven't already, visit https://ngrok.com/download to install ngrok and generate your authtoken. Then, run the following command, replacing YOUR_AUTHTOKEN with the token you created.

```
ngrok config add-authtoken YOUR_AUTHTOKEN

```

  </Step>

 <Step title="2. Run ngrok" >

To run ngrok, run the following command:

  ```
ngrok http 3010

```
 
  </Step>

<Step title="3. Set up Retell AI Webhook">

After completing step 2, a window will display a forwarding link. Copy the link and append **/retell-webhook** to the end. Your final link should look similar to this:

```
https://688ee840-00505-39395.ngrok-free.app/retell-webhook

```

Go to https://dashboard.retellai.com/agents and select your agent. Look for the **Webhook Settings** tab, and paste the link you created into the **Agent Level Webhook URL** field.

  </Step>

<Step title="4. Create typescript project to run file with tsx">

Next, create an index.ts file inside your project folder.

```
import dotenv from "dotenv";
import { envsafe, str } from "envsafe";
import express from "express";
import { CallProvider, Hamming } from "@hamming/hamming-sdk";


dotenv.config();


const app = express();
app.use(express.json());


export const env = envsafe({
 HAMMING_API_KEY: str(),
});


const hamming = new Hamming({
 apiKey: env.HAMMING_API_KEY,
});


hamming.monitoring.start();


app.post("/retell-webhook", (req, res) => {
 hamming.monitoring.callEvent(CallProvider.Retell, req.body);
 res.sendStatus(200);
});


app.listen(3010, () => {
 console.log("Server is running on port 3010");
});


```

  </Step>


<Step title="5. Set up your .env file" >


Set up a Hamming API Key by going to [hamming.ai/settings](https://app.hamming.ai/settings) and selecting Create a new secret key at the top. Then, add the API key to your .env file as shown in the code snippet below.

```
HAMMING_API_KEY=your_hamming_api_key

```

Next run the following command.

```
npm run dev

```

  </Step>

<Step title="6. Track Monitoring Page" >


Once you have both ngrok and your file running, monitoring will log all your inbound and outbound phone calls and generate scoring. 


  </Step>

</Steps>


