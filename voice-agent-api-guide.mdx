## Voice Agent API Guide

### Run a Hamming Test Agent programmatically


<Warning>

**Important**: Before using the API to run your Hamming test agent, you must first set up your test agent. You can follow this template for a detailed step-by-step walkthrough of how to create a dataset and set up a prompt, scorer and voice agent.(https://docs.hamming.ai/guides/voice-agent).

</Warning>

### Things You Need to Succeed

In order to set up and run a Hamming voice agent programmatically, you need to have your dataset ID and agent ID ready.


<Accordion icon="message-bot" title="Finding your Dataset ID">


</Accordion>


<Accordion icon="message-bot" title="Finding your Agent ID">

To find your agent ID follow these steps: 

</Accordion>



<Steps>

<Step title= "1. Start Agent Test Run">


<Tip>

**Important**: This will start a set of calls in parallel - we call it a Voice Experiment.

</Tip>

1. Replace the {agent_id}.
2. Replace the {dataset_id}.

```
POST https://app.hamming.ai/api/rest/voice-experiment/{agent_id}

Request Body:
{ "to_number": "+12063991234", "dataset_id": "{dataset_id}"}

Response:
{ "voice_experiment_id" }```


  </Step>

 <Step title="2. Get Voice Experiment" >

You can use this endpoint to poll for the Voice Experiment status.

```
GET https://app.hamming.ai/api/rest/voice-experiment/{voice_experiment_id}

Response:
{ "id": "voice_experiment_id", "status": "FINISHED" }
```

  </Step>

<Step title="3. Get Voice Experiment Calls">

Once the experiment is **FINISHED**, you can query the score results for the experiment.

```
GET https://app.hamming.ai/api/rest/voice-experiment/{voice_experiment_id}/calls

Response:
{
    "calls": [
       // Array of calls that were run as part of the voice experiment
       // Each call object will include the scoring status.
    ]
}
```

  </Step>



